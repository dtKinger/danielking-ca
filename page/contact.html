<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <link rel="stylesheet" href="contact.css">
  <link rel="icon" href="../favicon.png">
  <title>Daniel King | Contact</title>
</head>
<body>
  <header>
    <div class="nav-left flex">
      <div class="nav-theme-select gap-10">
        <button class="theme-toggle" id="light-dark-mode">Dark mode</button>
        <button class="fixed-header-btn">Sticky header</button>
      </div>
    </div>
    
    <div class="nav-links">
      <div class="hamburger"></div>
      <nav id="mobile-nav">
          <ul class="list">
            <li><a class="link-underline-animation jump-link" href="/">Home</a></li>
            <li class="tablet-and-smaller"><a class="link-underline-animation jump-link" href="/#profile">Profile</a></li>
            <li class="tablet-and-smaller"><a class="link-underline-animation jump-link" href="/#projects">Projects</a></li>
            <!-- <li><a class="link-underline-animation" href="">Blog</a></li> -->
            <li><a class="link-underline-animation" href="/page/contact">Contact</a></li>
            <li class="laptop-and-bigger"><a class="link-underline-animation jump-link laptop-and-bigger" href="/#footer">Footer</a></li>
            
          </ul>
      </nav>
    </div>
    </div>
  </header>
  <main>
    <h2 class="page-title">Contact Me</h2>
    <div class="wrapper">
      
        // Paste into Home page template
  window.addEventListener('load', function() {
  // on Home page, initialize 
  let item = {};
  var _learnq = window._learnq || [];
  function addedToCart() {
    fetch(`${window.location.origin}/cart.js`)
    .then(res => res.clone().json().then(data => {
      var cart = {
        total_price: data.total_price/100,
        $value: data.total_price/100,
        total_discount: data.total_discount,
        original_total_price: data.original_total_price/100,
        items: data.items
      }
          if (item !== 'undefined') {
            cart = Object.assign(cart, item)
          } 
      if (klAjax) {
          _learnq.push(['track', 'Added to Cart', cart]);
          klAjax = false;
        }
    }))
  }
  (function (ns, fetch) {
    ns.fetch = function() {
      const response = fetch.apply(this, arguments);
      response.then(res => {
        if (`${window.location.origin}/cart/add.js`
          .includes(res.url)) {
            addedToCart()
        }
      });
      return response
    }
  }(window, window.fetch));
  var klAjax = true;
  var atcButtons = document.querySelectorAll("form[action*='/cart/add'] button[type='submit']");
  for (var i = 0; i < atcButtons.length; i++) {
      atcButtons[i].addEventListener("click", async function(ev) {
        let productHandle = ev.target.parentElement.parentElement.getAttribute('data-product-handle')  
  
        if (klAjax) {
          item = await fetchProductData(productHandle)
          _learnq.push(['track', 'Added to Cart', item]);
          klAjax = false;  
        }
      })
  }
  });
  
  async function fetchProductData(productHandle) {
    try {
      const response = await fetch(`https://getonly.ca/products/${productHandle}.json`);
      const data = await response.json();

      const product = data.product;
      const originalURL = data.product.images[0].src;
      // Use a regex to insert _grande file size (to make it smaller)
      const modifiedURL = originalURL.replace(/\.(jpg|jpeg|png)/, '_grande.$1');

      return {
        "Name": product.title,
        "ProductID": product.id,
        "Categories": [],
        "ImageURL": modifiedURL,
        "URL": `https://getonly.ca/products/${product.handle}`,
        "Brand": product.vendor,
        "Price": product.variants[0].price,
        "CompareAtPrice": product.variants[0].compare_at_price
      };
    } catch (error) {
      console.error('Error fetching product data:', error);
      return null; // Handle errors as needed
    }
  }
  console.log('Klaviyo Home Page loaded!')
  <code>
      </code>
    </div>
      <div class="wrapper">
        <form class="contact-form-container" action="https://formspree.io/f/moqownla" method="POST">
          <div class="labeled-field">
            <label for="email"><span class="required"><sup>* </sup></span>Your email:</label>
            <input id="email" type="email" name="email" required>
          </div>
          <div class="labeled-field">
            <label for="message"><span class="required"><sup>* </sup></span>Message: </label>
            <textarea id="message" name="message" placeholder="Hey Daniel, what made you decide to change careers?" required minlength="10" maxlength="1000"></textarea>
          </div>
          <!-- your other form fields go here -->
          <button type="submit">Send</button>
        </form>
      </div>
  </main>
  <footer class="flex">
    <div class="footer-projects">
      <h3>Projects</h3> 
      <nav role="footer-navigation" id="footer-navigation" class="footer-nav gap-10">
        <a href="https://getonly.ca" class="link-underline-animation">getonly.ca</a>
        <a href="https://dtkinger.github.io/battlewich" class="link-underline-animation">Battle'Wich</a>
        <a href="https://dtkinger.github.io/weather-app-TOP/" class="link-underline-animation">Weather App</a>
        <a href="https://kokorosaigon.com" class="link-underline-animation">Kokoro Saigon</a>
      </nav>
    </div>
    <div class="credits flex flex-column gap-10">
      <div class="social-icons flex gap-10">
        <a href="https://github.com/dtkinger" class="link-underline-animation">Github</a>
        <a href="https://www.linkedin.com/in/dan-king-b5912246/" class="link-underline-animation">LinkedIn</a>
        <a href="https://twitter.com/dtKinger/" class="link-underline-animation">Twitter / X</a>
      </div>
      <div class="my-handle flex">
        <p>&copy; <a href="https://github.com/dtkinger" class="link-underline-animation">@dtkinger</a> 2023</p>
      </div>
    </div>
    <span id="footer"></span>
  </footer>
  <script src="../scripts.js" type="module"></script>
  <script src="contact.js" type="module"></script>
</body>
</html>